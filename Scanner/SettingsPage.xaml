<Page
    x:Class="Scanner.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Scanner"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" 
    NavigationCacheMode="Disabled" 
    KeyDown="Page_KeyDown" Loading="Page_Loading">

    <Grid Name="GridSettingsPage">
        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition Height="75"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="1" Background="{ThemeResource SystemControlAcrylicWindowBrush}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>
            <Button Name="ButtonSave" Grid.Column="0" Content="Save" MinWidth="100" CornerRadius="3" HorizontalAlignment="Right" VerticalAlignment="Center" Style="{ThemeResource ButtonRevealStyle}" Background="{ThemeResource SystemControlHighlightAccentRevealBackgroundBrush}" Foreground="{ThemeResource SystemColorHighlightTextColor}" Margin="0,0,16,0" Click="ButtonSave_Click"/>
            <Button x:Name="ButtonCancel" Grid.Column="1" Content="Cancel" MinWidth="100" CornerRadius="3" HorizontalAlignment="Left" VerticalAlignment="Center" Style="{ThemeResource ButtonRevealStyle}" Margin="16,0,0,0" Click="ButtonCancel_Click"/>
        </Grid>
        <controls:DropShadowPanel x:Name="DropShadowPanelBottom" Grid.Row="0" BlurRadius="30" ShadowOpacity="0.3" HorizontalContentAlignment="Stretch" Height="50" VerticalAlignment="Bottom">
            <Frame Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" MinHeight="{Binding Path=Height,ElementName=DropShadowPanelBottom}"/>
        </controls:DropShadowPanel>
        <Grid Grid.Row="0" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" HorizontalAlignment="Stretch">
            <ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Row="0" Margin="0,32,0,0">
                <StackPanel x:Name="StackPanelSettings" MaxWidth="600" Orientation="Vertical" Padding="24,0,24,12" HorizontalAlignment="Left">
                    <TextBlock Text="Settings" Style="{ThemeResource SubheaderTextBlockStyle}" FontWeight="Bold" VerticalAlignment="Top" HorizontalAlignment="Left"/>
                    <ComboBox x:Name="ComboBoxTheme" Header="Theme" CornerRadius="3" MinWidth="200" Margin="0,24,0,0" SelectionChanged="ComboBoxTheme_SelectionChanged">
                        <ComboBox.Items>
                            <ComboBoxItem Content="Use system setting" Tag="0"/>
                            <ComboBoxItem Content="Light" Tag="1"/>
                            <ComboBoxItem Content="Dark" Tag="2"/>
                        </ComboBox.Items>
                    </ComboBox>
                    <TextBlock x:Name="TextBlockRestart" TextWrapping="WrapWholeWords" Style="{ThemeResource BodyTextBlockStyle}" Visibility="Collapsed" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="0,12,0,0">
                        <Span><Run xml:space="preserve">Please </Run><Hyperlink x:Name="HyperlinkRestart" UnderlineStyle="None" Click="HyperlinkRestart_Click">save and restart the app</Hyperlink><Run xml:space="preserve"> for changes to take effect.</Run></Span>
                    </TextBlock>

                    <ToggleSwitch x:Name="ToggleSwitchSearchIndicator" Header="Show scanner search indicator" Margin="0,24,0,0"/>
                    <ToggleSwitch x:Name="ToggleSwitchNotificationScanComplete" Header="Send a notification when scanning ends in the background" Margin="0,24,0,0"/>
                    <ToggleSwitch x:Name="ToggleSwitchUnsupportedFileFormat" Header="Allow unsupported file formats by converting to them from a supported one" Margin="0,24,0,0"/>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top" HorizontalAlignment="Stretch" Margin="0,96,0,0">
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE939;" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="0,0,8,0"/>
                        <TextBlock Text="Give Feedback" Style="{ThemeResource BaseTextBlockStyle}" VerticalAlignment="Top" HorizontalAlignment="Left"/>
                    </StackPanel>
                    <TextBlock TextWrapping="WrapWholeWords" Style="{ThemeResource BodyTextBlockStyle}" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="0,12,0,0">
                        <Span><Run xml:space="preserve">Use the </Run><Hyperlink UnderlineStyle="None">Feedback Hub</Hyperlink><Run xml:space="preserve"> to request new features, report bugs and vote on suggestions or </Run><Hyperlink UnderlineStyle="None">rate Scanner in the Microsoft Store</Hyperlink><Run xml:space="preserve"> to help others decide whether this is the right app for them.</Run></Span>
                    </TextBlock>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top" HorizontalAlignment="Stretch" Margin="0,96,0,0">
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE8E1;" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="0,0,8,0"/>
                        <TextBlock Text="Support development" Style="{ThemeResource BaseTextBlockStyle}" VerticalAlignment="Top" HorizontalAlignment="Left"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Top" HorizontalAlignment="Stretch" Margin="0,96,0,0">
                        <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE946;" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="0,0,8,0"/>
                        <TextBlock Text="About this app" Style="{ThemeResource BaseTextBlockStyle}" VerticalAlignment="Top" HorizontalAlignment="Left"/>
                    </StackPanel>
                    <TextBlock TextWrapping="WrapWholeWords" Style="{ThemeResource BodyTextBlockStyle}" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="0,12,0,0">
                        <Span>Scanner<LineBreak/>Developed by Simon Knuth<LineBreak/>2019<LineBreak/>
                        <LineBreak/><Hyperlink UnderlineStyle="None">Website</Hyperlink><LineBreak/></Span>
                    </TextBlock>
                    <TextBlock x:Name="TextBlockVersion" TextWrapping="WrapWholeWords" Style="{ThemeResource BodyTextBlockStyle}" VerticalAlignment="Top" HorizontalAlignment="Left"/>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</Page>
